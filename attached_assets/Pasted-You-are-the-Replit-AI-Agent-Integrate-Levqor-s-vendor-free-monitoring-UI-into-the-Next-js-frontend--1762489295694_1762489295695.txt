You are the Replit AI Agent. Integrate Levqor’s vendor-free monitoring UI into the Next.js frontend and gate by env flags. Do not ask questions. Fail closed on any error and print the failing step.

GOAL
- Wire Error Reporter and Support Widget into the app layout.
- Enable via env flags; auto-disable if Sentry/CRISP vars exist.
- Smoke-test both endpoints from the browser.

ENV (set if missing; never print values)
NEXT_PUBLIC_ENABLE_ERROR_REPORTER=true
NEXT_PUBLIC_ENABLE_SUPPORT_WIDGET=true
# premium auto-switch (if present, internal disables)
SENTRY_DSN=<optional>
NEXT_PUBLIC_CRISP_WEBSITE_ID=<optional>

TASKS
1) Import and mount in layout:
- File: src/app/layout.tsx
  - Client-only block to init errorReporter when:
    NEXT_PUBLIC_ENABLE_ERROR_REPORTER!="false" AND !SENTRY_DSN
  - Render <SupportWidget/> when:
    NEXT_PUBLIC_ENABLE_SUPPORT_WIDGET!="false" AND !NEXT_PUBLIC_CRISP_WEBSITE_ID
- Ensure no SSR break: dynamic import with ssr:false where needed.

2) Error reporter bootstrap:
- File exists: src/lib/errorReporter.ts
- Add safe init guard to avoid duplicate listeners (sessionStorage flag).
- Throttle to ≤5 reports/min.

3) Support widget:
- File exists: src/components/SupportWidget.tsx
- Ensure it pre-fills current URL, validates email, and disables submit on send.
- On success, show non-blocking toast.

4) Build + type checks:
- Fix any TS errors.
- Ensure `npm run build` succeeds.

5) Smoke tests (non-interactive):
- Inject a test error in console:
  `window.dispatchEvent(new ErrorEvent('error',{message:'ui-test'}))`
  Expect 200 from POST /api/v1/errors/report; verify logs/errors.jsonl grew.
- Submit support form with test message; verify logs/support.jsonl grew.

6) Output:
- Print:
  pages: [/ (widget visible), /builder, /pricing]
  flags: NEXT_PUBLIC_ENABLE_ERROR_REPORTER, NEXT_PUBLIC_ENABLE_SUPPORT_WIDGET
  premium_switch: SENTRY_DSN, NEXT_PUBLIC_CRISP_WEBSITE_ID
  health: [/api/v1/errors/health, /api/v1/support/health] 200

SAFETY
- Rate-limit UI sends (client) and API (server).
- Never expose env secrets in client logs.
- Don’t alter existing billing, auth, or scheduler code.